<nav class="main-nav navbar-expand-lg">
    <div class="container-fluid">
        <!-- Toggle button for mobile view -->
        <a class="navbar-brand d-lg-none" href="#" id="categories-toggle">Check Our Categories</a>

        <!-- Navbar content -->
        <div class="collapse navbar-collapse" id="main-nav">
            <ul class="navbar-nav mx-auto">
                <!-- All Products dropdown -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="{% url 'products' %}" id="all-products-link" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        All Products
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="all-products-link">
                        <li><a class="dropdown-item" href="{% url 'products' %}?sort=price&direction=asc">By Price</a></li>
                        <li><a class="dropdown-item" href="{% url 'products' %}?sort=rating&direction=desc">By Rating</a></li>
                        <li><a class="dropdown-item" href="{% url 'products' %}?sort=category&direction=asc">By Category</a></li>
                    </ul>
                </li>
                
                <!-- Adventures dropdown -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="adventures-link" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Adventures
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="adventures-link">
                        <li><a class="dropdown-item" href="{% url 'products' %}?category=hiking_trails">Hiking Trails</a></li>
                        <li><a class="dropdown-item" href="{% url 'products' %}?category=water_adventures">Water Adventures</a></li>
                        <li><a class="dropdown-item" href="{% url 'products' %}?category=camping_spots">Camping Spots</a></li>
                    </ul>
                </li>

                <!-- Sports Events dropdown -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="sportsevents-link" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Sports Events
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="sportsevents-link">
                        <li><a class="dropdown-item" href="{% url 'products' %}?category=try_out_session">Try-Out Sessions</a></li>
                        <li><a class="dropdown-item" href="{% url 'products' %}?category=amateur_tournaments">Amateur Tournaments</a></li>
                        <li><a class="dropdown-item" href="{% url 'products' %}?category=health_and_fitness_classes">Health and Fitness Classes</a></li>
                    </ul>
                </li>

                <!-- Special Offers dropdown -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="specials-link" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Special Offers
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="specials-link">
                        <li><a class="dropdown-item" href="{% url 'products' %}?category=adventure_packages">Adventure Packages</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

{% block postloadjs %}
<script>
    // Add event listener to the link
    document.getElementById('categories-toggle').addEventListener('click', function(event) {
        event.preventDefault(); // Prevent the default action of following the link
        var dropdown = document.getElementById('main-nav'); // Get the dropdown menu
        if (dropdown.classList.contains('show')) {
            dropdown.classList.remove('show'); // Hide the dropdown menu
        } else {
            dropdown.classList.add('show'); // Show the dropdown menu
        }
    });
</script>
{% endblock %}
